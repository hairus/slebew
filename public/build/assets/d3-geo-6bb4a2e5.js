import{A as V,m as pi,r as yn}from"./d3-array-e52edd26.js";var R=1e-6,hi=1e-12,z=Math.PI,J=z/2,kn=z/4,Z=z*2,F=180/z,I=z/180,q=Math.abs,Ct=Math.atan,tn=Math.atan2,A=Math.cos,xn=Math.ceil,Wi=Math.exp,Ui=Math.log,P=Math.sin,Zn=Math.sign||function(n){return n>0?1:n<0?-1:0},G=Math.sqrt,ki=Math.tan;function Ji(n){return n>1?0:n<-1?z:Math.acos(n)}function j(n){return n>1?J:n<-1?-J:Math.asin(n)}function Ft(n){return(n=P(n/2))*n}function B(){}function Jn(n,t){n&&Ht.hasOwnProperty(n.type)&&Ht[n.type](n,t)}var Bt={Feature:function(n,t){Jn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)Jn(r[i].geometry,t)}},Ht={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){st(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)st(r[i],t,0)},Polygon:function(n,t){Ot(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Ot(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)Jn(r[i],t)}};function st(n,t,r){var i=-1,e=n.length-r,o;for(t.lineStart();++i<e;)o=n[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ot(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)st(n[r],t,1);t.polygonEnd()}function an(n,t){n&&Bt.hasOwnProperty(n.type)?Bt[n.type](n,t):Jn(n,t)}var Kn=new V,Qn=new V,gi,vi,pt,ht,gt,on={point:B,lineStart:B,lineEnd:B,polygonStart:function(){Kn=new V,on.lineStart=Ki,on.lineEnd=Qi},polygonEnd:function(){var n=+Kn;Qn.add(n<0?Z+n:n),this.lineStart=this.lineEnd=this.point=B},sphere:function(){Qn.add(Z)}};function Ki(){on.point=Vi}function Qi(){Si(gi,vi)}function Vi(n,t){on.point=Si,gi=n,vi=t,n*=I,t*=I,pt=n,ht=A(t=t/2+kn),gt=P(t)}function Si(n,t){n*=I,t*=I,t=t/2+kn;var r=n-pt,i=r>=0?1:-1,e=i*r,o=A(t),a=P(t),f=gt*a,g=ht*o+f*A(e),p=f*i*P(e);Kn.add(tn(p,g)),pt=n,ht=o,gt=a}function Wr(n){return Qn=new V,an(n,on),Qn*2}function Vn(n){return[tn(n[1],n[0]),j(n[2])]}function vn(n){var t=n[0],r=n[1],i=A(r);return[i*A(t),i*P(t),P(r)]}function Fn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Pn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ft(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Bn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function jn(n){var t=G(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var Y,k,x,Q,gn,di,Ei,Mn,qn,sn,cn,ln={point:vt,lineStart:Zt,lineEnd:Gt,polygonStart:function(){ln.point=wi,ln.lineStart=ji,ln.lineEnd=bi,qn=new V,on.polygonStart()},polygonEnd:function(){on.polygonEnd(),ln.point=vt,ln.lineStart=Zt,ln.lineEnd=Gt,Kn<0?(Y=-(x=180),k=-(Q=90)):qn>R?Q=90:qn<-R&&(k=-90),cn[0]=Y,cn[1]=x},sphere:function(){Y=-(x=180),k=-(Q=90)}};function vt(n,t){sn.push(cn=[Y=n,x=n]),t<k&&(k=t),t>Q&&(Q=t)}function yi(n,t){var r=vn([n*I,t*I]);if(Mn){var i=Pn(Mn,r),e=[i[1],-i[0],0],o=Pn(e,i);jn(o),o=Vn(o);var a=n-gn,f=a>0?1:-1,g=o[0]*F*f,p,u=q(a)>180;u^(f*gn<g&&g<f*n)?(p=o[1]*F,p>Q&&(Q=p)):(g=(g+360)%360-180,u^(f*gn<g&&g<f*n)?(p=-o[1]*F,p<k&&(k=p)):(t<k&&(k=t),t>Q&&(Q=t))),u?n<gn?K(Y,n)>K(Y,x)&&(x=n):K(n,x)>K(Y,x)&&(Y=n):x>=Y?(n<Y&&(Y=n),n>x&&(x=n)):n>gn?K(Y,n)>K(Y,x)&&(x=n):K(n,x)>K(Y,x)&&(Y=n)}else sn.push(cn=[Y=n,x=n]);t<k&&(k=t),t>Q&&(Q=t),Mn=r,gn=n}function Zt(){ln.point=yi}function Gt(){cn[0]=Y,cn[1]=x,ln.point=vt,Mn=null}function wi(n,t){if(Mn){var r=n-gn;qn.add(q(r)>180?r+(r>0?360:-360):r)}else di=n,Ei=t;on.point(n,t),yi(n,t)}function ji(){on.lineStart()}function bi(){wi(di,Ei),on.lineEnd(),q(qn)>R&&(Y=-(x=180)),cn[0]=Y,cn[1]=x,Mn=null}function K(n,t){return(t-=n)<0?t+360:t}function nr(n,t){return n[0]-t[0]}function Wt(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function Ur(n){var t,r,i,e,o,a,f;if(Q=x=-(Y=k=1/0),sn=[],an(n,ln),r=sn.length){for(sn.sort(nr),t=1,i=sn[0],o=[i];t<r;++t)e=sn[t],Wt(i,e[0])||Wt(i,e[1])?(K(i[0],e[1])>K(i[0],i[1])&&(i[1]=e[1]),K(e[0],i[1])>K(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(a=-1/0,r=o.length-1,t=0,i=o[r];t<=r;i=e,++t)e=o[t],(f=K(i[1],e[0]))>a&&(a=f,Y=e[0],x=i[1])}return sn=cn=null,Y===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[Y,k],[x,Q]]}function St(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function dt(n,t){return q(n)>z&&(n-=Math.round(n/Z)*Z),[n,t]}dt.invert=dt;function Mi(n,t,r){return(n%=Z)?t||r?St(kt(n),Jt(t,r)):kt(n):t||r?Jt(t,r):dt}function Ut(n){return function(t,r){return t+=n,q(t)>z&&(t-=Math.round(t/Z)*Z),[t,r]}}function kt(n){var t=Ut(n);return t.invert=Ut(-n),t}function Jt(n,t){var r=A(n),i=P(n),e=A(t),o=P(t);function a(f,g){var p=A(g),u=A(f)*p,c=P(f)*p,l=P(g),s=l*r+u*i;return[tn(c*e-s*o,u*r-l*i),j(s*e+c*o)]}return a.invert=function(f,g){var p=A(g),u=A(f)*p,c=P(f)*p,l=P(g),s=l*e-c*o;return[tn(c*e+l*o,u*r+s*i),j(s*r-u*i)]},a}function tr(n){n=Mi(n[0]*I,n[1]*I,n.length>2?n[2]*I:0);function t(r){return r=n(r[0]*I,r[1]*I),r[0]*=F,r[1]*=F,r}return t.invert=function(r){return r=n.invert(r[0]*I,r[1]*I),r[0]*=F,r[1]*=F,r},t}function ir(n,t,r,i,e,o){if(r){var a=A(t),f=P(t),g=i*r;e==null?(e=t+i*Z,o=t-g/2):(e=Kt(a,e),o=Kt(a,o),(i>0?e<o:e>o)&&(e+=i*Z));for(var p,u=e;i>0?u>o:u<o;u-=g)p=Vn([a,-f*A(u),-f*P(u)]),n.point(p[0],p[1])}}function Kt(n,t){t=vn(t),t[0]-=n,jn(t);var r=Ji(-t[1]);return((-t[2]<0?-r:r)+Z-R)%Z}function Pi(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:B,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Gn(n,t){return q(n[0]-t[0])<R&&q(n[1]-t[1])<R}function Hn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Ri(n,t,r,i,e){var o=[],a=[],f,g;if(n.forEach(function(h){if(!((E=h.length-1)<=0)){var E,d=h[0],y=h[E],M;if(Gn(d,y)){if(!d[2]&&!y[2]){for(e.lineStart(),f=0;f<E;++f)e.point((d=h[f])[0],d[1]);e.lineEnd();return}y[0]+=2*R}o.push(M=new Hn(d,h,null,!0)),a.push(M.o=new Hn(d,null,M,!1)),o.push(M=new Hn(y,h,null,!1)),a.push(M.o=new Hn(y,null,M,!0))}}),!!o.length){for(a.sort(t),Qt(o),Qt(a),f=0,g=a.length;f<g;++f)a[f].e=r=!r;for(var p=o[0],u,c;;){for(var l=p,s=!0;l.v;)if((l=l.n)===p)return;u=l.z,e.lineStart();do{if(l.v=l.o.v=!0,l.e){if(s)for(f=0,g=u.length;f<g;++f)e.point((c=u[f])[0],c[1]);else i(l.x,l.n.x,1,e);l=l.n}else{if(s)for(u=l.p.z,f=u.length-1;f>=0;--f)e.point((c=u[f])[0],c[1]);else i(l.x,l.p.x,-1,e);l=l.p}l=l.o,u=l.z,s=!s}while(!l.v);e.lineEnd()}}}function Qt(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function lt(n){return q(n[0])<=z?n[0]:Zn(n[0])*((q(n[0])+z)%Z-z)}function rr(n,t){var r=lt(t),i=t[1],e=P(i),o=[P(r),-A(r),0],a=0,f=0,g=new V;e===1?i=J+R:e===-1&&(i=-J-R);for(var p=0,u=n.length;p<u;++p)if(l=(c=n[p]).length)for(var c,l,s=c[l-1],h=lt(s),E=s[1]/2+kn,d=P(E),y=A(E),M=0;M<l;++M,h=w,d=L,y=D,s=S){var S=c[M],w=lt(S),$=S[1]/2+kn,L=P($),D=A($),T=w-h,C=T>=0?1:-1,X=C*T,N=X>z,W=d*L;if(g.add(tn(W*C*P(X),y*D+W*A(X))),a+=N?T+C*Z:T,N^h>=r^w>=r){var H=Pn(vn(s),vn(S));jn(H);var _=Pn(o,H);jn(_);var v=(N^T>=0?-1:1)*j(_[2]);(i>v||i===v&&(H[0]||H[1]))&&(f+=N^T>=0?1:-1)}}return(a<-R||a<R&&g<-hi)^f&1}function $i(n,t,r,i){return function(e){var o=t(e),a=Pi(),f=t(a),g=!1,p,u,c,l={point:s,lineStart:E,lineEnd:d,polygonStart:function(){l.point=y,l.lineStart=M,l.lineEnd=S,u=[],p=[]},polygonEnd:function(){l.point=s,l.lineStart=E,l.lineEnd=d,u=pi(u);var w=rr(p,i);u.length?(g||(e.polygonStart(),g=!0),Ri(u,or,w,r,e)):w&&(g||(e.polygonStart(),g=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),g&&(e.polygonEnd(),g=!1),u=p=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function s(w,$){n(w,$)&&e.point(w,$)}function h(w,$){o.point(w,$)}function E(){l.point=h,o.lineStart()}function d(){l.point=s,o.lineEnd()}function y(w,$){c.push([w,$]),f.point(w,$)}function M(){f.lineStart(),c=[]}function S(){y(c[0][0],c[0][1]),f.lineEnd();var w=f.clean(),$=a.result(),L,D=$.length,T,C,X;if(c.pop(),p.push(c),c=null,!!D){if(w&1){if(C=$[0],(T=C.length-1)>0){for(g||(e.polygonStart(),g=!0),e.lineStart(),L=0;L<T;++L)e.point((X=C[L])[0],X[1]);e.lineEnd()}return}D>1&&w&2&&$.push($.pop().concat($.shift())),u.push($.filter(er))}}return l}}function er(n){return n.length>1}function or(n,t){return((n=n.x)[0]<0?n[1]-J-R:J-n[1])-((t=t.x)[0]<0?t[1]-J-R:J-t[1])}const Vt=$i(function(){return!0},ur,lr,[-z,-J]);function ur(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(o,a){var f=o>0?z:-z,g=q(o-t);q(g-z)<R?(n.point(t,r=(r+a)/2>0?J:-J),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(o,r),e=0):i!==f&&g>=z&&(q(t-i)<R&&(t-=i*R),q(o-f)<R&&(o-=f*R),r=fr(t,r,o,a),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(f,r),e=0),n.point(t=o,r=a),i=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function fr(n,t,r,i){var e,o,a=P(n-r);return q(a)>R?Ct((P(t)*(o=A(i))*P(r)-P(i)*(e=A(t))*P(n))/(e*o*a)):(t+i)/2}function lr(n,t,r,i){var e;if(n==null)e=r*J,i.point(-z,e),i.point(0,e),i.point(z,e),i.point(z,0),i.point(z,-e),i.point(0,-e),i.point(-z,-e),i.point(-z,0),i.point(-z,e);else if(q(n[0]-t[0])>R){var o=n[0]<t[0]?z:-z;e=r*o/2,i.point(-o,e),i.point(0,e),i.point(o,e)}else i.point(t[0],t[1])}function ar(n){var t=A(n),r=2*I,i=t>0,e=q(t)>R;function o(u,c,l,s){ir(s,n,r,l,u,c)}function a(u,c){return A(u)*A(c)>t}function f(u){var c,l,s,h,E;return{lineStart:function(){h=s=!1,E=1},point:function(d,y){var M=[d,y],S,w=a(d,y),$=i?w?0:p(d,y):w?p(d+(d<0?z:-z),y):0;if(!c&&(h=s=w)&&u.lineStart(),w!==s&&(S=g(c,M),(!S||Gn(c,S)||Gn(M,S))&&(M[2]=1)),w!==s)E=0,w?(u.lineStart(),S=g(M,c),u.point(S[0],S[1])):(S=g(c,M),u.point(S[0],S[1],2),u.lineEnd()),c=S;else if(e&&c&&i^w){var L;!($&l)&&(L=g(M,c,!0))&&(E=0,i?(u.lineStart(),u.point(L[0][0],L[0][1]),u.point(L[1][0],L[1][1]),u.lineEnd()):(u.point(L[1][0],L[1][1]),u.lineEnd(),u.lineStart(),u.point(L[0][0],L[0][1],3)))}w&&(!c||!Gn(c,M))&&u.point(M[0],M[1]),c=M,s=w,l=$},lineEnd:function(){s&&u.lineEnd(),c=null},clean:function(){return E|(h&&s)<<1}}}function g(u,c,l){var s=vn(u),h=vn(c),E=[1,0,0],d=Pn(s,h),y=Fn(d,d),M=d[0],S=y-M*M;if(!S)return!l&&u;var w=t*y/S,$=-t*M/S,L=Pn(E,d),D=Bn(E,w),T=Bn(d,$);ft(D,T);var C=L,X=Fn(D,C),N=Fn(C,C),W=X*X-N*(Fn(D,D)-1);if(!(W<0)){var H=G(W),_=Bn(C,(-X-H)/N);if(ft(_,D),_=Vn(_),!l)return _;var v=u[0],m=c[0],O=u[1],U=c[1],b;m<v&&(b=v,v=m,m=b);var Nn=m-v,un=q(Nn-z)<R,hn=un||Nn<R;if(!un&&U<O&&(b=O,O=U,U=b),hn?un?O+U>0^_[1]<(q(_[0]-v)<R?O:U):O<=_[1]&&_[1]<=U:Nn>z^(v<=_[0]&&_[0]<=m)){var fn=Bn(C,(-X+H)/N);return ft(fn,D),[_,Vn(fn)]}}}function p(u,c){var l=i?n:z-n,s=0;return u<-l?s|=1:u>l&&(s|=2),c<-l?s|=4:c>l&&(s|=8),s}return $i(a,f,o,i?[0,-n]:[-z,n-z])}function cr(n,t,r,i,e,o){var a=n[0],f=n[1],g=t[0],p=t[1],u=0,c=1,l=g-a,s=p-f,h;if(h=r-a,!(!l&&h>0)){if(h/=l,l<0){if(h<u)return;h<c&&(c=h)}else if(l>0){if(h>c)return;h>u&&(u=h)}if(h=e-a,!(!l&&h<0)){if(h/=l,l<0){if(h>c)return;h>u&&(u=h)}else if(l>0){if(h<u)return;h<c&&(c=h)}if(h=i-f,!(!s&&h>0)){if(h/=s,s<0){if(h<u)return;h<c&&(c=h)}else if(s>0){if(h>c)return;h>u&&(u=h)}if(h=o-f,!(!s&&h<0)){if(h/=s,s<0){if(h>c)return;h>u&&(u=h)}else if(s>0){if(h<u)return;h<c&&(c=h)}return u>0&&(n[0]=a+u*l,n[1]=f+u*s),c<1&&(t[0]=a+c*l,t[1]=f+c*s),!0}}}}}var An=1e9,On=-An;function sr(n,t,r,i){function e(p,u){return n<=p&&p<=r&&t<=u&&u<=i}function o(p,u,c,l){var s=0,h=0;if(p==null||(s=a(p,c))!==(h=a(u,c))||g(p,u)<0^c>0)do l.point(s===0||s===3?n:r,s>1?i:t);while((s=(s+c+4)%4)!==h);else l.point(u[0],u[1])}function a(p,u){return q(p[0]-n)<R?u>0?0:3:q(p[0]-r)<R?u>0?2:1:q(p[1]-t)<R?u>0?1:0:u>0?3:2}function f(p,u){return g(p.x,u.x)}function g(p,u){var c=a(p,1),l=a(u,1);return c!==l?c-l:c===0?u[1]-p[1]:c===1?p[0]-u[0]:c===2?p[1]-u[1]:u[0]-p[0]}return function(p){var u=p,c=Pi(),l,s,h,E,d,y,M,S,w,$,L,D={point:T,lineStart:W,lineEnd:H,polygonStart:X,polygonEnd:N};function T(v,m){e(v,m)&&u.point(v,m)}function C(){for(var v=0,m=0,O=s.length;m<O;++m)for(var U=s[m],b=1,Nn=U.length,un=U[0],hn,fn,Yn=un[0],En=un[1];b<Nn;++b)hn=Yn,fn=En,un=U[b],Yn=un[0],En=un[1],fn<=i?En>i&&(Yn-hn)*(i-fn)>(En-fn)*(n-hn)&&++v:En<=i&&(Yn-hn)*(i-fn)<(En-fn)*(n-hn)&&--v;return v}function X(){u=c,l=[],s=[],L=!0}function N(){var v=C(),m=L&&v,O=(l=pi(l)).length;(m||O)&&(p.polygonStart(),m&&(p.lineStart(),o(null,null,1,p),p.lineEnd()),O&&Ri(l,f,v,o,p),p.polygonEnd()),u=p,l=s=h=null}function W(){D.point=_,s&&s.push(h=[]),$=!0,w=!1,M=S=NaN}function H(){l&&(_(E,d),y&&w&&c.rejoin(),l.push(c.result())),D.point=T,w&&u.lineEnd()}function _(v,m){var O=e(v,m);if(s&&h.push([v,m]),$)E=v,d=m,y=O,$=!1,O&&(u.lineStart(),u.point(v,m));else if(O&&w)u.point(v,m);else{var U=[M=Math.max(On,Math.min(An,M)),S=Math.max(On,Math.min(An,S))],b=[v=Math.max(On,Math.min(An,v)),m=Math.max(On,Math.min(An,m))];cr(U,b,n,t,r,i)?(w||(u.lineStart(),u.point(U[0],U[1])),u.point(b[0],b[1]),O||u.lineEnd(),L=!1):O&&(u.lineStart(),u.point(v,m),L=!1)}M=v,S=m,w=O}return D}}var Et,yt,Wn,Un,Rn={sphere:B,point:B,lineStart:pr,lineEnd:B,polygonStart:B,polygonEnd:B};function pr(){Rn.point=gr,Rn.lineEnd=hr}function hr(){Rn.point=Rn.lineEnd=B}function gr(n,t){n*=I,t*=I,yt=n,Wn=P(t),Un=A(t),Rn.point=vr}function vr(n,t){n*=I,t*=I;var r=P(t),i=A(t),e=q(n-yt),o=A(e),a=P(e),f=i*a,g=Un*r-Wn*i*o,p=Wn*r+Un*i*o;Et.add(tn(G(f*f+g*g),p)),yt=n,Wn=r,Un=i}function Sr(n){return Et=new V,an(n,Rn),+Et}var wt=[null,null],dr={type:"LineString",coordinates:wt};function kr(n,t){return wt[0]=n,wt[1]=t,Sr(dr)}function jt(n,t,r){var i=yn(n,t-R,r).concat(t);return function(e){return i.map(function(o){return[e,o]})}}function bt(n,t,r){var i=yn(n,t-R,r).concat(t);return function(e){return i.map(function(o){return[o,e]})}}function Jr(){var n,t,r,i,e,o,a,f,g=10,p=g,u=90,c=360,l,s,h,E,d=2.5;function y(){return{type:"MultiLineString",coordinates:M()}}function M(){return yn(xn(i/u)*u,r,u).map(h).concat(yn(xn(f/c)*c,a,c).map(E)).concat(yn(xn(t/g)*g,n,g).filter(function(S){return q(S%u)>R}).map(l)).concat(yn(xn(o/p)*p,e,p).filter(function(S){return q(S%c)>R}).map(s))}return y.lines=function(){return M().map(function(S){return{type:"LineString",coordinates:S}})},y.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(E(a).slice(1),h(r).reverse().slice(1),E(f).reverse().slice(1))]}},y.extent=function(S){return arguments.length?y.extentMajor(S).extentMinor(S):y.extentMinor()},y.extentMajor=function(S){return arguments.length?(i=+S[0][0],r=+S[1][0],f=+S[0][1],a=+S[1][1],i>r&&(S=i,i=r,r=S),f>a&&(S=f,f=a,a=S),y.precision(d)):[[i,f],[r,a]]},y.extentMinor=function(S){return arguments.length?(t=+S[0][0],n=+S[1][0],o=+S[0][1],e=+S[1][1],t>n&&(S=t,t=n,n=S),o>e&&(S=o,o=e,e=S),y.precision(d)):[[t,o],[n,e]]},y.step=function(S){return arguments.length?y.stepMajor(S).stepMinor(S):y.stepMinor()},y.stepMajor=function(S){return arguments.length?(u=+S[0],c=+S[1],y):[u,c]},y.stepMinor=function(S){return arguments.length?(g=+S[0],p=+S[1],y):[g,p]},y.precision=function(S){return arguments.length?(d=+S,l=jt(o,e,90),s=bt(t,n,d),h=jt(f,a,90),E=bt(i,r,d),y):d},y.extentMajor([[-180,-90+R],[180,90-R]]).extentMinor([[-180,-80-R],[180,80+R]])}function Kr(n,t){var r=n[0]*I,i=n[1]*I,e=t[0]*I,o=t[1]*I,a=A(i),f=P(i),g=A(o),p=P(o),u=a*A(r),c=a*P(r),l=g*A(e),s=g*P(e),h=2*j(G(Ft(o-i)+a*g*Ft(e-r))),E=P(h),d=h?function(y){var M=P(y*=h)/E,S=P(h-y)/E,w=S*u+M*l,$=S*c+M*s,L=S*f+M*p;return[tn($,w)*F,tn(L,G(w*w+$*$))*F]}:function(){return[r*F,i*F]};return d.distance=h,d}const Mt=n=>n;var at=new V,Pt=new V,Ni,Ai,Rt,$t,pn={point:B,lineStart:B,lineEnd:B,polygonStart:function(){pn.lineStart=Er,pn.lineEnd=wr},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=B,at.add(q(Pt)),Pt=new V},result:function(){var n=at/2;return at=new V,n}};function Er(){pn.point=yr}function yr(n,t){pn.point=Li,Ni=Rt=n,Ai=$t=t}function Li(n,t){Pt.add($t*n-Rt*t),Rt=n,$t=t}function wr(){Li(Ni,Ai)}const ni=pn;var $n=1/0,bn=$n,Xn=-$n,nt=Xn,Mr={point:Pr,lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B,result:function(){var n=[[$n,bn],[Xn,nt]];return Xn=nt=-(bn=$n=1/0),n}};function Pr(n,t){n<$n&&($n=n),n>Xn&&(Xn=n),t<bn&&(bn=t),t>nt&&(nt=t)}const tt=Mr;var Nt=0,At=0,Ln=0,it=0,rt=0,wn=0,Lt=0,zt=0,zn=0,zi,Ii,rn,en,nn={point:Sn,lineStart:ti,lineEnd:ii,polygonStart:function(){nn.lineStart=Nr,nn.lineEnd=Ar},polygonEnd:function(){nn.point=Sn,nn.lineStart=ti,nn.lineEnd=ii},result:function(){var n=zn?[Lt/zn,zt/zn]:wn?[it/wn,rt/wn]:Ln?[Nt/Ln,At/Ln]:[NaN,NaN];return Nt=At=Ln=it=rt=wn=Lt=zt=zn=0,n}};function Sn(n,t){Nt+=n,At+=t,++Ln}function ti(){nn.point=Rr}function Rr(n,t){nn.point=$r,Sn(rn=n,en=t)}function $r(n,t){var r=n-rn,i=t-en,e=G(r*r+i*i);it+=e*(rn+n)/2,rt+=e*(en+t)/2,wn+=e,Sn(rn=n,en=t)}function ii(){nn.point=Sn}function Nr(){nn.point=Lr}function Ar(){mi(zi,Ii)}function Lr(n,t){nn.point=mi,Sn(zi=rn=n,Ii=en=t)}function mi(n,t){var r=n-rn,i=t-en,e=G(r*r+i*i);it+=e*(rn+n)/2,rt+=e*(en+t)/2,wn+=e,e=en*n-rn*t,Lt+=e*(rn+n),zt+=e*(en+t),zn+=e*3,Sn(rn=n,en=t)}const ri=nn;function qi(n){this._context=n}qi.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Z);break}}},result:B};var It=new V,ct,Ti,Ci,In,mn,et={point:B,lineStart:function(){et.point=zr},lineEnd:function(){ct&&Di(Ti,Ci),et.point=B},polygonStart:function(){ct=!0},polygonEnd:function(){ct=null},result:function(){var n=+It;return It=new V,n}};function zr(n,t){et.point=Di,Ti=In=n,Ci=mn=t}function Di(n,t){In-=n,mn-=t,It.add(G(In*In+mn*mn)),In=n,mn=t}const ei=et;let oi,ot,ui,fi;class li{constructor(t){this._append=t==null?_i:Ir(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==ui||this._append!==ot){const i=this._radius,e=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ui=i,ot=this._append,fi=this._,this._=e}this._+=fi;break}}}result(){const t=this._;return this._="",t.length?t:null}}function _i(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function Ir(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return _i;if(t!==oi){const r=10**t;oi=t,ot=function(e){let o=1;this._+=e[0];for(const a=e.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+e[o]}}return ot}function Qr(n,t){let r=3,i=4.5,e,o;function a(f){return f&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),an(f,e(o))),o.result()}return a.area=function(f){return an(f,e(ni)),ni.result()},a.measure=function(f){return an(f,e(ei)),ei.result()},a.bounds=function(f){return an(f,e(tt)),tt.result()},a.centroid=function(f){return an(f,e(ri)),ri.result()},a.projection=function(f){return arguments.length?(e=f==null?(n=null,Mt):(n=f).stream,a):n},a.context=function(f){return arguments.length?(o=f==null?(t=null,new li(r)):new qi(t=f),typeof i!="function"&&o.pointRadius(i),a):t},a.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(o.pointRadius(+f),+f),a):i},a.digits=function(f){if(!arguments.length)return r;if(f==null)r=null;else{const g=Math.floor(f);if(!(g>=0))throw new RangeError(`invalid digits: ${f}`);r=g}return t===null&&(o=new li(r)),a},a.projection(n).digits(r).context(t)}function Dt(n){return function(t){var r=new mt;for(var i in n)r[i]=n[i];return r.stream=t,r}}function mt(){}mt.prototype={constructor:mt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _t(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),an(r,n.stream(tt)),t(tt.result()),i!=null&&n.clipExtent(i),n}function Xt(n,t,r){return _t(n,function(i){var e=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(e/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),f=+t[0][0]+(e-a*(i[1][0]+i[0][0]))/2,g=+t[0][1]+(o-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([f,g])},r)}function Xi(n,t,r){return Xt(n,[[0,0],t],r)}function Yi(n,t,r){return _t(n,function(i){var e=+t,o=e/(i[1][0]-i[0][0]),a=(e-o*(i[1][0]+i[0][0]))/2,f=-o*i[0][1];n.scale(150*o).translate([a,f])},r)}function xi(n,t,r){return _t(n,function(i){var e=+t,o=e/(i[1][1]-i[0][1]),a=-o*i[0][0],f=(e-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([a,f])},r)}var ai=16,mr=A(30*I);function ci(n,t){return+t?Tr(n,t):qr(n)}function qr(n){return Dt({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Tr(n,t){function r(i,e,o,a,f,g,p,u,c,l,s,h,E,d){var y=p-i,M=u-e,S=y*y+M*M;if(S>4*t&&E--){var w=a+l,$=f+s,L=g+h,D=G(w*w+$*$+L*L),T=j(L/=D),C=q(q(L)-1)<R||q(o-c)<R?(o+c)/2:tn($,w),X=n(C,T),N=X[0],W=X[1],H=N-i,_=W-e,v=M*H-y*_;(v*v/S>t||q((y*H+M*_)/S-.5)>.3||a*l+f*s+g*h<mr)&&(r(i,e,o,a,f,g,N,W,C,w/=D,$/=D,L,E,d),d.point(N,W),r(N,W,C,w,$,L,p,u,c,l,s,h,E,d))}}return function(i){var e,o,a,f,g,p,u,c,l,s,h,E,d={point:y,lineStart:M,lineEnd:w,polygonStart:function(){i.polygonStart(),d.lineStart=$},polygonEnd:function(){i.polygonEnd(),d.lineStart=M}};function y(T,C){T=n(T,C),i.point(T[0],T[1])}function M(){c=NaN,d.point=S,i.lineStart()}function S(T,C){var X=vn([T,C]),N=n(T,C);r(c,l,u,s,h,E,c=N[0],l=N[1],u=T,s=X[0],h=X[1],E=X[2],ai,i),i.point(c,l)}function w(){d.point=y,i.lineEnd()}function $(){M(),d.point=L,d.lineEnd=D}function L(T,C){S(e=T,C),o=c,a=l,f=s,g=h,p=E,d.point=S}function D(){r(c,l,u,s,h,E,o,a,e,f,g,p,ai,i),d.lineEnd=w,w()}return d}}var Cr=Dt({point:function(n,t){this.stream.point(n*I,t*I)}});function Dr(n){return Dt({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function _r(n,t,r,i,e){function o(a,f){return a*=i,f*=e,[t+n*a,r-n*f]}return o.invert=function(a,f){return[(a-t)/n*i,(r-f)/n*e]},o}function si(n,t,r,i,e,o){if(!o)return _r(n,t,r,i,e);var a=A(o),f=P(o),g=a*n,p=f*n,u=a/n,c=f/n,l=(f*r-a*t)/n,s=(f*t+a*r)/n;function h(E,d){return E*=i,d*=e,[g*E-p*d+t,r-p*E-g*d]}return h.invert=function(E,d){return[i*(u*E-c*d+l),e*(s-c*E-u*d)]},h}function dn(n){return Fi(function(){return n})()}function Fi(n){var t,r=150,i=480,e=250,o=0,a=0,f=0,g=0,p=0,u,c=0,l=1,s=1,h=null,E=Vt,d=null,y,M,S,w=Mt,$=.5,L,D,T,C,X;function N(v){return T(v[0]*I,v[1]*I)}function W(v){return v=T.invert(v[0],v[1]),v&&[v[0]*F,v[1]*F]}N.stream=function(v){return C&&X===v?C:C=Cr(Dr(u)(E(L(w(X=v)))))},N.preclip=function(v){return arguments.length?(E=v,h=void 0,_()):E},N.postclip=function(v){return arguments.length?(w=v,d=y=M=S=null,_()):w},N.clipAngle=function(v){return arguments.length?(E=+v?ar(h=v*I):(h=null,Vt),_()):h*F},N.clipExtent=function(v){return arguments.length?(w=v==null?(d=y=M=S=null,Mt):sr(d=+v[0][0],y=+v[0][1],M=+v[1][0],S=+v[1][1]),_()):d==null?null:[[d,y],[M,S]]},N.scale=function(v){return arguments.length?(r=+v,H()):r},N.translate=function(v){return arguments.length?(i=+v[0],e=+v[1],H()):[i,e]},N.center=function(v){return arguments.length?(o=v[0]%360*I,a=v[1]%360*I,H()):[o*F,a*F]},N.rotate=function(v){return arguments.length?(f=v[0]%360*I,g=v[1]%360*I,p=v.length>2?v[2]%360*I:0,H()):[f*F,g*F,p*F]},N.angle=function(v){return arguments.length?(c=v%360*I,H()):c*F},N.reflectX=function(v){return arguments.length?(l=v?-1:1,H()):l<0},N.reflectY=function(v){return arguments.length?(s=v?-1:1,H()):s<0},N.precision=function(v){return arguments.length?(L=ci(D,$=v*v),_()):G($)},N.fitExtent=function(v,m){return Xt(N,v,m)},N.fitSize=function(v,m){return Xi(N,v,m)},N.fitWidth=function(v,m){return Yi(N,v,m)},N.fitHeight=function(v,m){return xi(N,v,m)};function H(){var v=si(r,0,0,l,s,c).apply(null,t(o,a)),m=si(r,i-v[0],e-v[1],l,s,c);return u=Mi(f,g,p),D=St(t,m),T=St(u,D),L=ci(D,$),_()}function _(){return C=X=null,N}return function(){return t=n.apply(this,arguments),N.invert=t.invert&&W,H()}}function Xr(n){var t=0,r=z/3,i=Fi(n),e=i(t,r);return e.parallels=function(o){return arguments.length?i(t=o[0]*I,r=o[1]*I):[t*F,r*F]},e}function Yr(n){var t=A(n);function r(i,e){return[i*t,P(e)/t]}return r.invert=function(i,e){return[i/t,j(e*t)]},r}function xr(n,t){var r=P(n),i=(r+P(t))/2;if(q(i)<R)return Yr(n);var e=1+r*(2*i-r),o=G(e)/i;function a(f,g){var p=G(e-2*i*P(g))/i;return[p*P(f*=i),o-p*A(f)]}return a.invert=function(f,g){var p=o-g,u=tn(f,q(p))*Zn(p);return p*i<0&&(u-=z*Zn(f)*Zn(p)),[u/i,j((e-(f*f+p*p)*i*i)/(2*i))]},a}function qt(){return Xr(xr).scale(155.424).center([0,33.6442])}function Fr(){return qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Br(n){var t=n.length;return{point:function(r,i){for(var e=-1;++e<t;)n[e].point(r,i)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function Vr(){var n,t,r=Fr(),i,e=qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,g,p={point:function(l,s){g=[l,s]}};function u(l){var s=l[0],h=l[1];return g=null,i.point(s,h),g||(o.point(s,h),g)||(f.point(s,h),g)}u.invert=function(l){var s=r.scale(),h=r.translate(),E=(l[0]-h[0])/s,d=(l[1]-h[1])/s;return(d>=.12&&d<.234&&E>=-.425&&E<-.214?e:d>=.166&&d<.234&&E>=-.214&&E<-.115?a:r).invert(l)},u.stream=function(l){return n&&t===l?n:n=Br([r.stream(t=l),e.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(r.precision(l),e.precision(l),a.precision(l),c()):r.precision()},u.scale=function(l){return arguments.length?(r.scale(l),e.scale(l*.35),a.scale(l),u.translate(r.translate())):r.scale()},u.translate=function(l){if(!arguments.length)return r.translate();var s=r.scale(),h=+l[0],E=+l[1];return i=r.translate(l).clipExtent([[h-.455*s,E-.238*s],[h+.455*s,E+.238*s]]).stream(p),o=e.translate([h-.307*s,E+.201*s]).clipExtent([[h-.425*s+R,E+.12*s+R],[h-.214*s-R,E+.234*s-R]]).stream(p),f=a.translate([h-.205*s,E+.212*s]).clipExtent([[h-.214*s+R,E+.166*s+R],[h-.115*s-R,E+.234*s-R]]).stream(p),c()},u.fitExtent=function(l,s){return Xt(u,l,s)},u.fitSize=function(l,s){return Xi(u,l,s)},u.fitWidth=function(l,s){return Yi(u,l,s)},u.fitHeight=function(l,s){return xi(u,l,s)};function c(){return n=t=null,u}return u.scale(1070)}function Hr(n){return function(t,r){var i=A(t),e=A(r),o=n(i*e);return o===1/0?[2,0]:[o*e*P(t),o*P(r)]}}function Yt(n){return function(t,r){var i=G(t*t+r*r),e=n(i),o=P(e),a=A(e);return[tn(t*o,i*a),j(i&&r*o/i)]}}var Bi=Hr(function(n){return G(2/(1+n))});Bi.invert=Yt(function(n){return 2*j(n/2)});function jr(){return dn(Bi).scale(124.75).clipAngle(180-.001)}function xt(n,t){return[n,Ui(ki((J+t)/2))]}xt.invert=function(n,t){return[n,2*Ct(Wi(t))-J]};function br(){return Or(xt).scale(961/Z)}function Or(n){var t=dn(n),r=t.center,i=t.scale,e=t.translate,o=t.clipExtent,a=null,f,g,p;t.scale=function(c){return arguments.length?(i(c),u()):i()},t.translate=function(c){return arguments.length?(e(c),u()):e()},t.center=function(c){return arguments.length?(r(c),u()):r()},t.clipExtent=function(c){return arguments.length?(c==null?a=f=g=p=null:(a=+c[0][0],f=+c[0][1],g=+c[1][0],p=+c[1][1]),u()):a==null?null:[[a,f],[g,p]]};function u(){var c=z*i(),l=t(tr(t.rotate()).invert([0,0]));return o(a==null?[[l[0]-c,l[1]-c],[l[0]+c,l[1]+c]]:n===xt?[[Math.max(l[0]-c,a),f],[Math.min(l[0]+c,g),p]]:[[a,Math.max(l[1]-c,f)],[g,Math.min(l[1]+c,p)]])}return u()}function Tt(n,t){return[n,t]}Tt.invert=Tt;function ne(){return dn(Tt).scale(152.63)}var Tn=1.340264,Cn=-.081106,Dn=893e-6,_n=.003796,ut=G(3)/2,Zr=12;function Hi(n,t){var r=j(ut*P(t)),i=r*r,e=i*i*i;return[n*A(r)/(ut*(Tn+3*Cn*i+e*(7*Dn+9*_n*i))),r*(Tn+Cn*i+e*(Dn+_n*i))]}Hi.invert=function(n,t){for(var r=t,i=r*r,e=i*i*i,o=0,a,f,g;o<Zr&&(f=r*(Tn+Cn*i+e*(Dn+_n*i))-t,g=Tn+3*Cn*i+e*(7*Dn+9*_n*i),r-=a=f/g,i=r*r,e=i*i*i,!(q(a)<hi));++o);return[ut*n*(Tn+3*Cn*i+e*(7*Dn+9*_n*i))/A(r),j(P(r)/ut)]};function te(){return dn(Hi).scale(177.158)}function Oi(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}Oi.invert=function(n,t){var r=t,i=25,e;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-t)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(q(e)>R&&--i>0);return[n/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]};function ie(){return dn(Oi).scale(175.295)}function Zi(n,t){return[A(t)*P(n),P(t)]}Zi.invert=Yt(j);function re(){return dn(Zi).scale(249.5).clipAngle(90+R)}function Gi(n,t){var r=A(t),i=1+A(n)*r;return[r*P(n)/i,P(t)/i]}Gi.invert=Yt(function(n){return 2*Ct(n)});function ee(){return dn(Gi).scale(250).clipAngle(142)}export{Wr as a,Ur as b,Qr as c,kr as d,Jr as e,re as f,ne as g,Fr as h,Kr as i,Vr as j,jr as k,te as l,br as m,ie as n,dn as p,ee as s};
