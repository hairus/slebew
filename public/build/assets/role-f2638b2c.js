import{L as U}from"./main-26e9ec71.js";import{a as c}from"./axios-dd1c8fc2.js";import"./vue-4b54ea58.js";import{_ as k}from"../js/app2.js";import{a7 as h,a as l,b as r,e,F as u,g as _,f as m,K as p,l as x,k as y,v as w,t as d,N as $,p as B}from"./@vue-26c81de9.js";import"./simplebar-vue-28197e1a.js";import"./simplebar-core-3f5973b9.js";import"./lodash-es-9b1d07da.js";import"./logo-9faa3827.js";import"./metismenujs-584191f1.js";import"./vue-router-04b37a5f.js";import"./figlet-aa9a71dd.js";import"./vue3-apexcharts-fb268ad8.js";import"./maska-1eacf752.js";import"./vue-i18n-74a42a2b.js";import"./@intlify-28f1e2f7.js";import"./bootstrap-vue-next-71fdbf68.js";import"./gitart-vue-dialog-9c3bddb2.js";/* empty css                 */const C={name:"userRole",props:["roles"],data(){return{showModal:!1,users:[],user_id:"",role_id:""}},methods:{async createuserRole(){await c.post("/api/admin/role",{user_id:this.user_id,role_id:this.role_id}).then(n=>{this.showModal=!1,this.getUser()})},async getUser(){await c.get("/api/admin/user").then(n=>{this.users=n.data})},async hapusRole(n,s){await c.delete("/api/admin/user/"+n+"/"+s).then(b=>{this.getUser()})},muncul(){this.showModal=!0}},created(){this.getUser()}},V={class:"row"},N={class:"card"},S=e("div",{class:"card-header"},[e("div",{class:"card-title"}," User Role ")],-1),L={class:"card-body"},D={class:"table-responsive"},F=e("span",{class:"fa fa-plus"},null,-1),P=[F],j={class:"table table-hover"},A=e("thead",null,[e("th",null,"No"),e("th",null,"Nama"),e("th",null,"Role"),e("th",null,"#")],-1),E=["onClick"],K=e("td",null,[e("button",{class:"btn btn-sm btn-secondary"},[e("span",{class:"fa fa-pencil-alt"})])],-1),T={class:"text-center mb-4"},q=e("h4",{class:"text-primary"},"Add User Role",-1),z={class:"form-group"},G=e("label",{for:""},"Pilih Role",-1),H=["value"],I={class:"form-group"},J=e("label",{for:""},"Pilih User",-1),O=["value"],Q=e("button",{class:"btn btn-sm btn-info"},"Submit",-1);function W(n,s,b,M,o,a){const f=h("BCol"),v=h("BRow"),i=h("BModal");return l(),r("div",null,[e("div",V,[e("div",N,[S,e("div",L,[e("div",D,[e("button",{class:"btn btn-info float-end my-3",onClick:s[0]||(s[0]=(...t)=>a.muncul&&a.muncul(...t))},P),e("table",j,[A,e("tbody",null,[(l(!0),r(u,null,_(o.users,(t,R)=>(l(),r("tr",{key:t.id},[e("td",null,d(R+1),1),e("td",null,d(t.name),1),e("td",null,[(l(!0),r(u,null,_(t.roles,g=>(l(),r("span",{onClick:Re=>a.hapusRole(t.id,g.id),class:"bg rounded-pill bg-info text-white",role:"button"},d(g.role),9,E))),256))]),K]))),128))])])])])])]),m(i,{modelValue:o.showModal,"onUpdate:modelValue":s[4]||(s[4]=t=>o.showModal=t),"hide-footer":"",centered:"","header-class":"border-0"},{default:p(()=>[e("div",T,[m(v,{class:"justify-content-center"},{default:p(()=>[m(f,null,{default:p(()=>[q,e("form",{action:"",onSubmit:s[3]||(s[3]=x((...t)=>a.createuserRole&&a.createuserRole(...t),["prevent"]))},[e("div",z,[G,y(e("select",{class:"form-control mb-3","onUpdate:modelValue":s[1]||(s[1]=t=>o.role_id=t)},[(l(!0),r(u,null,_(b.roles,t=>(l(),r("option",{key:t.id,value:t.id},d(t.role),9,H))),128))],512),[[w,o.role_id]])]),e("div",I,[J,y(e("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>o.user_id=t)},[(l(!0),r(u,null,_(o.users,t=>(l(),r("option",{key:t.id,value:t.id},d(t.name),9,O))),128))],512),[[w,o.user_id]])]),Q],32)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}const X=k(C,[["render",W]]),Y={components:{Layout:U,userRole:X},data(){return{role:"",roles:[],users:[]}},methods:{async createRole(){await c.post("/api/admin/role",{role:this.role}).then(n=>{this.role="",this.getRoles()})},async getRoles(){await c.get("/api/admin/role").then(n=>{this.roles=n.data})},async hapus(n){await c.delete("/api/admin/role/"+n).then(s=>{this.getRoles()})},async createuserRole(){}},mounted(){this.getRoles()}},Z={class:"row"},ee={class:"col-md-12"},te={class:"row"},se={class:"col-md-6"},oe={class:"card"},le=e("div",{class:"card-header"},[e("div",{class:"card-title"},"Management Role")],-1),ne={class:"card-body"},re={class:"form-group"},ae=e("label",{for:""},"Create Role",-1),ie=e("button",{class:"btn btn-sm btn-primary mt-3"},"Submit",-1),de={class:"col-md-6"},ce={class:"card"},ue=e("div",{class:"card-header"},[e("div",{class:"card-title"},"Role")],-1),_e={class:"card-body"},he={class:"table table-bordered"},me=e("thead",null,[e("th",null,"No"),e("th",null,"Role"),e("th",null,"#")],-1),pe=["onClick"],be=e("span",{class:"fa fa-trash-alt"},null,-1),fe=[be],ve=e("hr",null,null,-1);function ye(n,s,b,M,o,a){const f=h("user-role"),v=h("Layout");return l(),$(v,null,{default:p(()=>[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[le,e("div",ne,[e("form",{action:"",onSubmit:s[1]||(s[1]=x((...i)=>a.createRole&&a.createRole(...i),["prevent"]))},[e("div",re,[ae,y(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=i=>o.role=i)},null,512),[[B,o.role]])]),ie],32)])])]),e("div",de,[e("div",ce,[ue,e("div",_e,[e("table",he,[me,e("tbody",null,[(l(!0),r(u,null,_(o.roles,(i,t)=>(l(),r("tr",{key:i.id},[e("td",null,d(t+1),1),e("td",null,d(i.role),1),e("td",null,[e("button",{class:"btn btn-sm btn-danger",onClick:R=>a.hapus(i.id)},fe,8,pe)])]))),128))])])])])])])])]),ve,m(f,{roles:o.roles},null,8,["roles"])]),_:1})}const Ke=k(Y,[["render",ye]]);export{Ke as default};
