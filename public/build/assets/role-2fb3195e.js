import{L as U}from"./main-85dda269.js";import{a as c}from"./axios-dd1c8fc2.js";import"./vue-e44c720a.js";import{_ as k}from"../js/app2.js";import{ae as m,a as l,b as n,e as t,F as u,g as _,f as h,_ as p,l as M,k as y,v as w,t as d,M as $,p as B}from"./@vue-2f47e84f.js";import"./simplebar-vue-f87408bd.js";import"./simplebar-core-3f5973b9.js";import"./lodash-es-9b1d07da.js";import"./logo-light-9f0efe74.js";import"./logo-9faa3827.js";import"./avatar-1-15b743f1.js";import"./avatar-3-36dc574b.js";import"./metismenujs-584191f1.js";import"./@babel-043c4917.js";import"./@amcharts-e4830be1.js";import"./tslib-72b7de63.js";import"./d3-geo-6bb4a2e5.js";import"./d3-array-e52edd26.js";import"./polylabel-4d4cd514.js";import"./tinyqueue-ccd7a0a5.js";import"./d3-geo-projection-f6bdcdf9.js";import"./core-js-01584e85.js";import"./raf-98f7053a.js";import"./performance-now-4def5153.js";import"./rgbcolor-a22a20ff.js";import"./stackblur-canvas-7b6438f0.js";import"./vue-router-bbc31d4f.js";import"./figlet-ec70a4bf.js";import"./vue3-apexcharts-094e7a9e.js";import"./maska-1eacf752.js";import"./vue-i18n-af6f3290.js";import"./@intlify-28f1e2f7.js";import"./bootstrap-vue-next-9af1e26b.js";import"./gitart-vue-dialog-1c989299.js";import"./@vueform-66335761.js";const C={name:"userRole",props:["roles"],data(){return{showModal:!1,users:[],user_id:"",role_id:""}},methods:{async createuserRole(){await c.post("/api/admin/role",{user_id:this.user_id,role_id:this.role_id}).then(r=>{this.showModal=!1,this.getUser()})},async getUser(){await c.get("/api/admin/user").then(r=>{this.users=r.data})},async hapusRole(r,o){await c.delete("/api/admin/user/"+r+"/"+o).then(b=>{this.getUser()})},muncul(){this.showModal=!0}},created(){this.getUser()}},V={class:"row"},S={class:"card"},L=t("div",{class:"card-header"},[t("div",{class:"card-title"}," User Role ")],-1),N={class:"card-body"},D={class:"table-responsive"},F=t("span",{class:"fa fa-plus"},null,-1),P=[F],j={class:"table table-hover"},A=t("thead",null,[t("th",null,"No"),t("th",null,"Nama"),t("th",null,"Role"),t("th",null,"#")],-1),E=["onClick"],T=t("td",null,[t("button",{class:"btn btn-sm btn-secondary"},[t("span",{class:"fa fa-pencil-alt"})])],-1),q={class:"text-center mb-4"},z=t("h4",{class:"text-primary"},"Add User Role",-1),G={class:"form-group"},H=t("label",{for:""},"Pilih Role",-1),I=["value"],J={class:"form-group"},K=t("label",{for:""},"Pilih User",-1),O=["value"],Q=t("button",{class:"btn btn-sm btn-info"},"Submit",-1);function W(r,o,b,x,s,i){const f=m("BCol"),v=m("BRow"),a=m("BModal");return l(),n("div",null,[t("div",V,[t("div",S,[L,t("div",N,[t("div",D,[t("button",{class:"btn btn-info float-end my-3",onClick:o[0]||(o[0]=(...e)=>i.muncul&&i.muncul(...e))},P),t("table",j,[A,t("tbody",null,[(l(!0),n(u,null,_(s.users,(e,R)=>(l(),n("tr",{key:e.id},[t("td",null,d(R+1),1),t("td",null,d(e.name),1),t("td",null,[(l(!0),n(u,null,_(e.roles,g=>(l(),n("span",{onClick:Rt=>i.hapusRole(e.id,g.id),class:"bg rounded-pill bg-info text-white",role:"button"},d(g.role),9,E))),256))]),T]))),128))])])])])])]),h(a,{modelValue:s.showModal,"onUpdate:modelValue":o[4]||(o[4]=e=>s.showModal=e),"hide-footer":"",centered:"","header-class":"border-0"},{default:p(()=>[t("div",q,[h(v,{class:"justify-content-center"},{default:p(()=>[h(f,null,{default:p(()=>[z,t("form",{action:"",onSubmit:o[3]||(o[3]=M((...e)=>i.createuserRole&&i.createuserRole(...e),["prevent"]))},[t("div",G,[H,y(t("select",{class:"form-control mb-3","onUpdate:modelValue":o[1]||(o[1]=e=>s.role_id=e)},[(l(!0),n(u,null,_(b.roles,e=>(l(),n("option",{key:e.id,value:e.id},d(e.role),9,I))),128))],512),[[w,s.role_id]])]),t("div",J,[K,y(t("select",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=e=>s.user_id=e)},[(l(!0),n(u,null,_(s.users,e=>(l(),n("option",{key:e.id,value:e.id},d(e.name),9,O))),128))],512),[[w,s.user_id]])]),Q],32)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}const X=k(C,[["render",W]]),Y={components:{Layout:U,userRole:X},data(){return{role:"",roles:[],users:[]}},methods:{async createRole(){await c.post("/api/admin/role",{role:this.role}).then(r=>{this.role="",this.getRoles()})},async getRoles(){await c.get("/api/admin/role").then(r=>{this.roles=r.data})},async hapus(r){await c.delete("/api/admin/role/"+r).then(o=>{this.getRoles()})},async createuserRole(){}},mounted(){this.getRoles()}},Z={class:"row"},tt={class:"col-md-12"},et={class:"row"},ot={class:"col-md-6"},st={class:"card"},lt=t("div",{class:"card-header"},[t("div",{class:"card-title"},"Management Role")],-1),rt={class:"card-body"},nt={class:"form-group"},it=t("label",{for:""},"Create Role",-1),at=t("button",{class:"btn btn-sm btn-primary mt-3"},"Submit",-1),dt={class:"col-md-6"},ct={class:"card"},ut=t("div",{class:"card-header"},[t("div",{class:"card-title"},"Role")],-1),_t={class:"card-body"},mt={class:"table table-bordered"},ht=t("thead",null,[t("th",null,"No"),t("th",null,"Role"),t("th",null,"#")],-1),pt=["onClick"],bt=t("span",{class:"fa fa-trash-alt"},null,-1),ft=[bt],vt=t("hr",null,null,-1);function yt(r,o,b,x,s,i){const f=m("user-role"),v=m("Layout");return l(),$(v,null,{default:p(()=>[t("div",Z,[t("div",tt,[t("div",et,[t("div",ot,[t("div",st,[lt,t("div",rt,[t("form",{action:"",onSubmit:o[1]||(o[1]=M((...a)=>i.createRole&&i.createRole(...a),["prevent"]))},[t("div",nt,[it,y(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=a=>s.role=a)},null,512),[[B,s.role]])]),at],32)])])]),t("div",dt,[t("div",ct,[ut,t("div",_t,[t("table",mt,[ht,t("tbody",null,[(l(!0),n(u,null,_(s.roles,(a,e)=>(l(),n("tr",{key:a.id},[t("td",null,d(e+1),1),t("td",null,d(a.role),1),t("td",null,[t("button",{class:"btn btn-sm btn-danger",onClick:R=>i.hapus(a.id)},ft,8,pt)])]))),128))])])])])])])])]),vt,h(f,{roles:s.roles},null,8,["roles"])]),_:1})}const oe=k(Y,[["render",yt]]);export{oe as default};
